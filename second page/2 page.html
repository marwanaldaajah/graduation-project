<!DOCTYPE html>
<html>
<head>
  <title>Search Server</title>
  <!-- include jQuery and Bootstrap -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
</head>
<body>
  <div class="container">
    <h1>Search Server</h1>
    <!-- form for loading files -->
    <form id="load-form">
      <div class="form-group">
        <label for="file-input">Load Files:</label>
        <input type="file" class="form-control-file" id="file-input" multiple>
      </div>
      <button type="submit" class="btn btn-primary">Load</button>
    </form>
    <!-- form for selecting inputs and outputs -->
    <form id="select-form" style="display: none">
      <h2>Select Inputs and Outputs</h2>
      <table class="table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Org</th>
            <th>Input</th>
            <th>Output</th>
          </tr>
        </thead>
        <tbody id="select-body">
          <!-- rows will be added dynamically -->
        </tbody>
      </table>
      <button type="submit" class="btn btn-primary">Next</button>
    </form>
  </div>
  
  <script>

    var files = []; 
    
    function addRow(name, org) {
      var row = $('<tr>');
      row.append($('<td>').text(name));
      row.append($('<td>').text(org));
      var inputCheckbox = $('<input>').attr({
        type: 'checkbox',
        class: 'form-check-input',
        name: 'input',
        value: name
      });
      var outputCheckbox = $('<input>').attr({
        type: 'checkbox',
        class: 'form-check-input',
        name: 'output',
        value: name
      });
      var inputTd = $('<td>').append($('<div>').addClass('form-check').append(inputCheckbox));
      var outputTd = $('<td>').append($('<div>').addClass('form-check').append(outputCheckbox));
      row.append(inputTd).append(outputTd);
      $('#select-body').append(row);
      
    
      inputCheckbox.change(function() {
        if ($(this).is(':checked')) {
          outputCheckbox.prop('disabled', true);
          outputCheckbox.closest('.form-check').addClass('disabled');
        } else {
          outputCheckbox.prop('disabled', false);
          outputCheckbox.closest('.form-check').removeClass('disabled');
        }
      });
      outputCheckbox.change(function() {
        if ($(this).is(':checked')) {
          inputCheckbox.prop('disabled', true);
          inputCheckbox.closest('.form-check').addClass('disabled');
        } else {
          inputCheckbox.prop('disabled', false);
          inputCheckbox.closest('.form-check').removeClass('disabled');
        }
      });
    }
    
    $('#load-form').submit(function(event) {
      event.preventDefault();
      var filesInput = document.getElementById('file-input');
      files = Array.from(filesInput.files);
      $('#load-form').hide();
      $('#select-form').show();
      for (var i = 0; i < files.length; i++) {
        var file = files[i];
